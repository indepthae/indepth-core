<div class="label-field-pair">
    <label for="batch"><%= t('batch') %></label>
    <div class="text-input-bg">
        <%= select_tag :batch_id, options_for_select([["#{t('select_a_batch')}",""]] + (@batches||[]).map { |c| [c.name, c.id] }), 
          {:onchange =>  "#{remote_function(:url => {:action => "show_passengers"},
          :with => "'search[batch_id]='+value+'&passenger='+j('[name=passenger]:checked').val()",
          :before => "Element.show('loader3');",
          :success => "Element.hide('loader3')")}"} %>
        <%= image_tag("loader.gif",
          :align => "absmiddle",
          :border => 0,
          :id => "loader3",
          :style =>"display: none;" ) %>
    </div>
</div>
<%= link_to_remote "#{t('advanced_search_text')}", :url => {:action => "advanced_search", :passenger => "student"}, :method => :get, :html => {:id => 'advanced_search'} %>